@using TatilSeyahatProjesiCore.Models.Siniflar
@model List<SoruCevap>
@{
    ViewData["Title"] = "Sık Sorulan Sorular";
    Layout = "~/Views/Shared/_AnaTema.cshtml";
}

<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<style>
    .accordion-button {
        font-weight: 600;
        color: #8B0000;
        background-color: #fefefe;
        transition: background-color 0.3s ease;
    }

        .accordion-button:hover {
            background-color: #f5f5f5;
        }

    .accordion-body {
        font-size: 16px;
        line-height: 1.6;
        color: #444;
    }

    .accordion-item {
        border: 1px solid #ddd;
        border-radius: 6px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        margin-bottom: 15px;
    }

    @@media (max-width: 768px) {
        .accordion-item

    {
        margin-bottom: 20px;
    }

    }
</style>

<div class="container py-5">
    <h2 class="text-center mb-5" style="color:#8B0000;">Sık Sorulan Sorular</h2>

    <div class="accordion" id="sssAccordion">
        @for (int i = 0; i < Model.Count(); i++)
        {
            var item = Model[i];
            <div class="accordion-item">
                <h2 class="accordion-header" id="heading-@i">
                    <button class="accordion-button collapsed" type="button" data-index="@i">
                        ❓ @item.Soru
                    </button>
                </h2>
                <div id="collapse-@i" class="accordion-collapse collapse">
                    <div class="accordion-body">
                        💬 @item.Cevap
                    </div>
                </div>
            </div>
        }
    </div>
</div>

<script>
    const buttons = document.querySelectorAll('.accordion-button');

    buttons.forEach((button, i) => {
        button.addEventListener('click', () => {
            const target = document.getElementById('collapse-' + i);
            const isOpen = target.classList.contains('show');

            // Tüm kutuları kapat
            document.querySelectorAll('.accordion-collapse').forEach(el => {
                bootstrap.Collapse.getOrCreateInstance(el).hide();
            });

            // Eğer tıklanan açık değilse → aç
            if (!isOpen) {
                bootstrap.Collapse.getOrCreateInstance(target).show();
            }
        });
    });
</script>
